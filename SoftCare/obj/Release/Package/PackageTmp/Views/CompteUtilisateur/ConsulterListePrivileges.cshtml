@model IEnumerable<SoftCare.Models.PRIVILEGE>

@{
    ViewBag.Title = "Liste des Privilèges";
    Layout = "~/Views/Shared/_SoftCareLayoutPage.cshtml";
}


<div class="row" style="margin:2em 0">
    <div class="col-lg-2" style="margin-bottom:1em">
        <a href="~/CompteUtilisateur/AJOUTERPRIVILEGE/0" class="btn btn-primary"><span class="glyphicon glyphicon-plus"></span> Nouveau Privilège</a>
    </div>


    <div class="col-lg-12 table-responsive" style="max-height:38em;overflow-y: auto;">


        <table class="table table-striped table-condensed">


            @if (Model != null && Model.Count() != 0)
            {
                int counter = 0;
                String CurrentControler = "EmptyControler"; 
                <thead>
                    <tr>  <th></th> <th>Controleur</th> <th>Action</th> @*<th>Peut</th>*@ <th>Libellé</th> <th style="width:4em">Update</th> </tr>
                </thead>
                <tbody>
                    @foreach (var privilege in Model)
                    {
                        if (privilege != null)
                        {
                            if(CurrentControler != privilege.Controller)
                            {
                                CurrentControler = privilege.Controller; 

                                <tr>
                                    <td colspan="6" style="background-color:#8bc2f1; color:#fff">
                                      Groupe des Privilèges du Controller <strong>@CurrentControler</strong>
                                    </td>
                                </tr>
                            }
                            <tr>
                                <td>
                                    @(++counter)
                                </td>
                                <td>
                                    @privilege.Controller
                                </td>
                                <td> @privilege.ActionName </td>
                                @*<td> @privilege.Peut </td>*@
                                <td> @privilege.Libelle </td>
                                <td style="text-align:center"> 
                                    <a href="~/CompteUtilisateur/AJOUTERPRIVILEGE/@privilege.PrivilegeID" >
                                        <span class="glyphicon glyphicon-pencil" ></span>
                                    </a>
                                </td>
                            </tr>
                        }
                    }
                </tbody>

            }

        </table>

    </div>

</div>






